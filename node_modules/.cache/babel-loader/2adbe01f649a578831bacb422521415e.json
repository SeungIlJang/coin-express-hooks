{"ast":null,"code":"import _regeneratorRuntime from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/src/Screens/CoinExchanges/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { getCoinExchanges } from \"../../api\";\nimport Loader from \"../../Components/Loader\";\nimport Exchange from \"../../Components/CoinExchange\";\nimport PropTypes from \"prop-types\";\nimport CoinExchangesPresenter from \"./CoinExchangesPresenter\";\n\nvar useCoinExchanges = function useCoinExchanges(id) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      exchanges = _useState4[0],\n      setExchanges = _useState4[1];\n\n  var getExchanges =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref2, _exchanges;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getCoinExchanges(id);\n\n            case 3:\n              _ref2 = _context.sent;\n              _exchanges = _ref2.data;\n              setExchanges(_exchanges);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n              _context.prev = 11;\n              setLoading(false);\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8, 11, 14]]);\n    }));\n\n    return function getExchanges() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getExchanges();\n  }, []);\n  return {\n    loading: loading,\n    exchanges: exchanges\n  };\n};\n\nvar CoinExchanges = function CoinExchanges(_ref3) {\n  var id = _ref3.match.params.id;\n\n  var _useCoinExchanges = useCoinExchanges(id),\n      loading = _useCoinExchanges.loading,\n      exchanges = _useCoinExchanges.exchanges;\n\n  return loading ? React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }) : exchanges.filter(function (exchange) {\n    return exchange.fiats.length > 0;\n  }).map(function (exchange) {\n    return React.createElement(Exchange, Object.assign({\n      key: exchange.id\n    }, exchange, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  });\n};\n\nCoinExchanges.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  exchanges: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    adjusted_volume_24h_share: PropTypes.number,\n    fiats: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      symbol: PropTypes.string\n    }))\n  }))\n};\nexport default CoinExchanges;","map":{"version":3,"sources":["/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/src/Screens/CoinExchanges/index.js"],"names":["React","useState","useEffect","getCoinExchanges","Loader","Exchange","PropTypes","CoinExchangesPresenter","useCoinExchanges","id","loading","setLoading","exchanges","setExchanges","getExchanges","data","console","log","CoinExchanges","match","params","filter","exchange","fiats","length","map","propTypes","bool","isRequired","arrayOf","shape","string","name","adjusted_volume_24h_share","number","symbol"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,gBAAR,QAA+B,WAA/B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,EAAD,EAAQ;AAAA,kBAECR,QAAQ,CAAC,IAAD,CAFT;AAAA;AAAA,MAEtBS,OAFsB;AAAA,MAEbC,UAFa;;AAAA,mBAGKV,QAAQ,CAAC,EAAD,CAHb;AAAA;AAAA,MAGtBW,SAHsB;AAAA,MAGXC,YAHW;;AAK7B,MAAMC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGqBX,gBAAgB,CAACM,EAAD,CAHrC;;AAAA;AAAA;AAGCG,cAAAA,UAHD,SAGLG,IAHK;AAIbF,cAAAA,YAAY,CAACD,UAAD,CAAZ;AAJa;AAAA;;AAAA;AAAA;AAAA;AAMbI,cAAAA,OAAO,CAACC,GAAR;;AANa;AAAA;AAQbN,cAAAA,UAAU,CAAC,KAAD,CAAV;AARa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZG,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAWAZ,EAAAA,SAAS,CAAC,YAAM;AACZY,IAAAA,YAAY;AACf,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AAACJ,IAAAA,OAAO,EAAPA,OAAD;AAASE,IAAAA,SAAS,EAATA;AAAT,GAAP;AACH,CArBD;;AAuBA,IAAMM,aAAa,GAAG,SAAhBA,aAAgB,QAA0B;AAAA,MAATT,EAAS,SAAxBU,KAAwB,CAAjBC,MAAiB,CAATX,EAAS;;AAAA,0BAChBD,gBAAgB,CAACC,EAAD,CADA;AAAA,MACrCC,OADqC,qBACrCA,OADqC;AAAA,MAC7BE,SAD6B,qBAC7BA,SAD6B;;AAE5C,SACIF,OAAO,GACH,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,GAGHE,SAAS,CACJS,MADL,CACY,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,KAAT,CAAeC,MAAf,GAAwB,CAA5B;AAAA,GADpB,EAEKC,GAFL,CAES,UAAAH,QAAQ;AAAA,WAAI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,QAAQ,CAACb;AAAxB,OAAgCa,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;AAAA,GAFjB,CAJR;AASH,CAXD;;AAaAJ,aAAa,CAACQ,SAAd,GAA0B;AACtBhB,EAAAA,OAAO,EAAEJ,SAAS,CAACqB,IAAV,CAAeC,UADF;AAEtBhB,EAAAA,SAAS,EAAEN,SAAS,CAACuB,OAAV,CACPvB,SAAS,CAACwB,KAAV,CAAgB;AACZrB,IAAAA,EAAE,EAAEH,SAAS,CAACyB,MAAV,CAAiBH,UADT;AAEZI,IAAAA,IAAI,EAAE1B,SAAS,CAACyB,MAAV,CAAiBH,UAFX;AAGZK,IAAAA,yBAAyB,EAAE3B,SAAS,CAAC4B,MAHzB;AAIZX,IAAAA,KAAK,EAAEjB,SAAS,CAACuB,OAAV,CACHvB,SAAS,CAACwB,KAAV,CAAgB;AACZE,MAAAA,IAAI,EAAE1B,SAAS,CAACyB,MADJ;AAEZI,MAAAA,MAAM,EAAE7B,SAAS,CAACyB;AAFN,KAAhB,CADG;AAJK,GAAhB,CADO;AAFW,CAA1B;AAiBA,eAAeb,aAAf","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport {getCoinExchanges} from \"../../api\";\nimport Loader from \"../../Components/Loader\";\nimport Exchange from \"../../Components/CoinExchange\";\nimport PropTypes from \"prop-types\";\nimport CoinExchangesPresenter from \"./CoinExchangesPresenter\";\n\nconst useCoinExchanges = (id) => {\n\n    const [loading, setLoading] = useState(true);\n    const [exchanges, setExchanges] = useState([]);\n\n    const getExchanges = async () => {\n\n        try {\n            const { data: exchanges } = await getCoinExchanges(id);\n            setExchanges(exchanges);\n        } catch (e) {\n            console.log(e);\n        } finally {\n            setLoading(false);\n        }\n    };\n    useEffect(() => {\n        getExchanges();\n    }, []);\n\n    return {loading,exchanges};\n};\n\nconst CoinExchanges = ({match:{params:{id}}})=> {\n    const {loading,exchanges} = useCoinExchanges(id);\n    return (\n        loading ? (\n            <Loader />\n        ) : (\n            exchanges\n                .filter(exchange => exchange.fiats.length > 0)\n                .map(exchange => <Exchange key={exchange.id} {...exchange} />)\n        )\n    );\n};\n\nCoinExchanges.propTypes = {\n    loading: PropTypes.bool.isRequired,\n    exchanges: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            name: PropTypes.string.isRequired,\n            adjusted_volume_24h_share: PropTypes.number,\n            fiats: PropTypes.arrayOf(\n                PropTypes.shape({\n                    name: PropTypes.string,\n                    symbol: PropTypes.string\n                })\n            )\n        })\n    )\n};\n\nexport default CoinExchanges;\n"]},"metadata":{},"sourceType":"module"}