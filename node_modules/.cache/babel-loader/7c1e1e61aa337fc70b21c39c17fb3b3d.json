{"ast":null,"code":"import _regeneratorRuntime from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/src/Screens/Coins/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { getCoins } from \"../../api\";\nimport Loader from \"../../Components/Loader\";\nimport Coin from \"../../Components/Coin\";\nimport PropTypes from \"prop-types\";\n\nvar useCoins = function useCoins() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      coins = _useState4[0],\n      setCoins = _useState4[1];\n\n  var callCoins =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref2, _coins;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getCoins();\n\n            case 3:\n              _ref2 = _context.sent;\n              _coins = _ref2.data;\n              setCoins(_coins);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n              _context.prev = 11;\n              setLoading(false);\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8, 11, 14]]);\n    }));\n\n    return function callCoins() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    callCoins();\n  }, []);\n  return {\n    loading: loading,\n    coins: coins\n  };\n};\n\nvar Coins = function Coins() {\n  var _useCoins = useCoins(),\n      loading = _useCoins.loading,\n      coins = _useCoins.coins;\n\n  return loading ? React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }) : coins.filter(function (coin) {\n    return coin.rank !== 0;\n  }).sort(function (first, second) {\n    return first.rank - second.rank;\n  }).map(function (coin) {\n    return React.createElement(Coin, Object.assign({\n      key: coin.id\n    }, coin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n  });\n};\n\nCoins.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  coins: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    symbol: PropTypes.string.isRequired,\n    rank: PropTypes.number.isRequired\n  }).isRequired).isRequired\n};\nexport default Coins;","map":{"version":3,"sources":["/Users/terry/WebstormProjects/reactNativeStudy/coin-express-hooks/src/Screens/Coins/index.js"],"names":["React","useState","useEffect","getCoins","Loader","Coin","PropTypes","useCoins","loading","setLoading","coins","setCoins","callCoins","data","console","log","Coins","filter","coin","rank","sort","first","second","map","id","propTypes","bool","isRequired","arrayOf","shape","string","name","symbol","number"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,QAAR,QAAuB,WAAvB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,kBACWN,QAAQ,CAAC,IAAD,CADnB;AAAA;AAAA,MACZO,OADY;AAAA,MACHC,UADG;;AAAA,mBAEOR,QAAQ,CAAC,EAAD,CAFf;AAAA;AAAA,MAEZS,KAFY;AAAA,MAELC,QAFK;;AAInB,MAAMC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEoBT,QAAQ,EAF5B;;AAAA;AAAA;AAEIO,cAAAA,MAFJ,SAEFG,IAFE;AAGVF,cAAAA,QAAQ,CAACD,MAAD,CAAR;AAHU;AAAA;;AAAA;AAAA;AAAA;AAKVI,cAAAA,OAAO,CAACC,GAAR;;AALU;AAAA;AAOVN,cAAAA,UAAU,CAAC,KAAD,CAAV;AAPU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATG,SAAS;AAAA;AAAA;AAAA,KAAf;;AAUAV,EAAAA,SAAS,CAAC,YAAI;AACVU,IAAAA,SAAS;AACZ,GAFQ,EAEP,EAFO,CAAT;AAIA,SAAO;AAACJ,IAAAA,OAAO,EAAPA,OAAD;AAASE,IAAAA,KAAK,EAALA;AAAT,GAAP;AACH,CAnBD;;AAqBA,IAAMM,KAAK,GAAG,SAARA,KAAQ,GAAI;AAAA,kBACQT,QAAQ,EADhB;AAAA,MACPC,OADO,aACPA,OADO;AAAA,MACCE,KADD,aACCA,KADD;;AAEd,SACIF,OAAO,GACP,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,GAGPE,KAAK,CACAO,MADL,CACY,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,IAAL,KAAc,CAAlB;AAAA,GADhB,EAEKC,IAFL,CAEU,UAACC,KAAD,EAAQC,MAAR;AAAA,WAAmBD,KAAK,CAACF,IAAN,GAAaG,MAAM,CAACH,IAAvC;AAAA,GAFV,EAGKI,GAHL,CAGS,UAAAL,IAAI;AAAA,WAAI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACM;AAAhB,OAAwBN,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;AAAA,GAHb,CAJJ;AASH,CAXD;;AAaAF,KAAK,CAACS,SAAN,GAAkB;AACdjB,EAAAA,OAAO,EAAEF,SAAS,CAACoB,IAAV,CAAeC,UADV;AAEdjB,EAAAA,KAAK,EAAEJ,SAAS,CAACsB,OAAV,CACHtB,SAAS,CAACuB,KAAV,CAAgB;AACZL,IAAAA,EAAE,EAAElB,SAAS,CAACwB,MAAV,CAAiBH,UADT;AAEZI,IAAAA,IAAI,EAAEzB,SAAS,CAACwB,MAAV,CAAiBH,UAFX;AAGZK,IAAAA,MAAM,EAAE1B,SAAS,CAACwB,MAAV,CAAiBH,UAHb;AAIZR,IAAAA,IAAI,EAAEb,SAAS,CAAC2B,MAAV,CAAiBN;AAJX,GAAhB,EAKGA,UANA,EAOLA;AATY,CAAlB;AAYA,eAAeX,KAAf","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport {getCoins} from \"../../api\";\nimport Loader from \"../../Components/Loader\";\nimport Coin from \"../../Components/Coin\";\nimport PropTypes from \"prop-types\";\n\nconst useCoins = () => {\n    const [loading, setLoading] = useState(true);\n    const [coins, setCoins] = useState([]);\n\n    const callCoins = async () => {\n        try {\n            const { data: coins } = await getCoins();\n            setCoins(coins);\n        } catch (e) {\n            console.log(e);\n        } finally {\n            setLoading(false);\n        }\n    };\n    useEffect(()=>{\n        callCoins();\n    },[]);\n\n    return {loading,coins};\n};\n\nconst Coins = ()=>{\n    const {loading,coins}=useCoins();\n    return (\n        loading ? (\n        <Loader />\n    ) : (\n        coins\n            .filter(coin => coin.rank !== 0)\n            .sort((first, second) => first.rank - second.rank)\n            .map(coin => <Coin key={coin.id} {...coin} />)\n    ));\n};\n\nCoins.propTypes = {\n    loading: PropTypes.bool.isRequired,\n    coins: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            name: PropTypes.string.isRequired,\n            symbol: PropTypes.string.isRequired,\n            rank: PropTypes.number.isRequired\n        }).isRequired\n    ).isRequired\n};\n\nexport default Coins;\n"]},"metadata":{},"sourceType":"module"}